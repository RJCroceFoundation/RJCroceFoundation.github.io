---
import { APP_BLOG } from 'astrowind:config';

import Image from '~/components/common/Image.astro';
import PillarTop from '../../assets/images/Pillar_1t.png';
import PillarBottom from '../../assets/images/Pillar_1b.png';
import { getPermalink } from '~/utils/permalinks';

export interface Props {
  pillar?: any;
}

const { pillar } = Astro.props;

const link = APP_BLOG?.post?.isEnabled ? getPermalink('', 'post') : '';
---

<article
  class="transition intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade flex flex-col gap-4"
>
  <div class="relative dark:bg-transparent rounded">
    {
      (
        <Image
          src={PillarTop}
          class="w-full md:h-full rounded dark:bg-transparent"
          widths={[400, 900]}
          width={400}
          sizes="(max-width: 900px) 400px, 900px"
          alt={''}
          aspectRatio="16:9"
          layout="contained"
          loading="lazy"
          decoding="async"
        />
      )
    }
  </div>

  <div class="flex flex-col justify-center items-center">
    <h1 class="text-xl text-center sm:text-2xl font-bold leading-tight font-heading dark:text-slate-300">
      {(<p>{pillar.header}</p>)}
    </h1>
    <h2 class="text-xl text-center sm:text-2xl font-bold mb-3 font-heading dark:text-slate-300">
      {(<p>{pillar.title}</p>)}
    </h2>
    <p class="text-xl text-center sm:text-2xl font-bold font-heading dark:text-slate-300">
      {pillar.description}
    </p>
    <p class="text-base h-32 text-center content-center sm:text-sm font-heading dark:text-slate-300">
      <i>{pillar.quote}</i>
      <span class="text-xl text-center h-16 sm:text-lg font-bold font-heading dark:text-slate-300">
        - {pillar.author}
      </span>
    </p>
  </div>

  <div class="relative dark:bg-transparent content-end rounded">
    {
      (
        <Image
          src={PillarBottom}
          class="w-full md:h-full rounded dark:bg-transparent"
          widths={[400, 900]}
          width={400}
          sizes="(max-width: 900px) 400px, 900px"
          alt={''}
          aspectRatio="16:9"
          layout="contained"
          loading="lazy"
          decoding="async"
        />
      )
    }
  </div>
</article>
